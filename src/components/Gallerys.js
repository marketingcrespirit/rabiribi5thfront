import React, { Component } from "react";
import { FormattedMessage } from "react-intl";

import pic000 from "../public/assets/images/members/0.png";
import pic000m from "../public/assets/images/members/0m.png";
import pic001 from "../public/assets/images/members/1.png";
import pic001m from "../public/assets/images/members/1m.png";
import pic002 from "../public/assets/images/members/2.png";
import pic002m from "../public/assets/images/members/2m.png";
import pic003 from "../public/assets/images/members/3.png";
import pic003m from "../public/assets/images/members/3m.png";
import pic004 from "../public/assets/images/members/4.png";
import pic004m from "../public/assets/images/members/4m.png";
import pic005 from "../public/assets/images/members/5.png";
import pic005m from "../public/assets/images/members/5m.png";
import pic006 from "../public/assets/images/members/6.png";
import pic006m from "../public/assets/images/members/6m.png";
import pic007 from "../public/assets/images/members/7.png";
import pic007m from "../public/assets/images/members/7m.png";
import pic008 from "../public/assets/images/members/8.png";
import pic008m from "../public/assets/images/members/8m.png";
import pic009 from "../public/assets/images/members/9.png";
import pic009m from "../public/assets/images/members/9m.png";
import pic010 from "../public/assets/images/members/10.png";
import pic010m from "../public/assets/images/members/10m.png";
import pic011 from "../public/assets/images/members/11.png";
import pic011m from "../public/assets/images/members/11m.png";
import pic012 from "../public/assets/images/members/12.png";
import pic012m from "../public/assets/images/members/12m.png";
import pic013 from "../public/assets/images/members/13.png";
import pic013m from "../public/assets/images/members/13m.png";
import pic014 from "../public/assets/images/members/14.png";
import pic014m from "../public/assets/images/members/14m.png";
import pic015 from "../public/assets/images/members/15.png";
import pic015m from "../public/assets/images/members/15m.png";
import pic016 from "../public/assets/images/members/16.png";
import pic016m from "../public/assets/images/members/16m.png";
import pic017 from "../public/assets/images/members/17.png";
import pic017m from "../public/assets/images/members/17m.png";
import pic018 from "../public/assets/images/members/18.png";
import pic018m from "../public/assets/images/members/18m.png";
import pic019 from "../public/assets/images/members/19.png";
import pic019m from "../public/assets/images/members/19m.png";
import pic020 from "../public/assets/images/members/20.png";
import pic020m from "../public/assets/images/members/20m.png";
import pic021 from "../public/assets/images/members/21.png";
import pic021m from "../public/assets/images/members/21m.png";
import pic022 from "../public/assets/images/members/22.png";
import pic022m from "../public/assets/images/members/22m.png";
import pic023 from "../public/assets/images/members/23.png";
import pic023m from "../public/assets/images/members/23m.png";
import pic024 from "../public/assets/images/members/24.png";
import pic024m from "../public/assets/images/members/24m.png";
import pic025 from "../public/assets/images/members/25.png";
import pic025m from "../public/assets/images/members/25m.png";
import pic026 from "../public/assets/images/members/26.png";
import pic026m from "../public/assets/images/members/26m.png";
import pic027 from "../public/assets/images/members/27.png";
import pic027m from "../public/assets/images/members/27m.png";
import pic028 from "../public/assets/images/members/28.png";
import pic028m from "../public/assets/images/members/28m.png";
import pic029 from "../public/assets/images/members/29.png";
import pic029m from "../public/assets/images/members/29m.png";
import pic030 from "../public/assets/images/members/30.png";
import pic030m from "../public/assets/images/members/30m.png";
import pic031 from "../public/assets/images/members/31.png";
import pic031m from "../public/assets/images/members/31m.png";
import pic032 from "../public/assets/images/members/32.png";
import pic032m from "../public/assets/images/members/32m.png";
import pic033 from "../public/assets/images/members/33.png";
import pic033m from "../public/assets/images/members/33m.png";
import pic034 from "../public/assets/images/members/34.png";
import pic034m from "../public/assets/images/members/34m.png";
import pic035 from "../public/assets/images/members/35.png";
import pic035m from "../public/assets/images/members/35m.png";
import pic036 from "../public/assets/images/members/36.png";
import pic036m from "../public/assets/images/members/36m.png";
import pic037 from "../public/assets/images/members/37.png";
import pic037m from "../public/assets/images/members/37m.png";
import pic038 from "../public/assets/images/members/38.png";
import pic038m from "../public/assets/images/members/38m.png";
import pic039 from "../public/assets/images/members/39.png";
import pic039m from "../public/assets/images/members/39m.png";
import pic040 from "../public/assets/images/members/40.png";
import pic040m from "../public/assets/images/members/40m.png";
import pic041 from "../public/assets/images/members/41.png";
import pic041m from "../public/assets/images/members/41m.png";
import pic042 from "../public/assets/images/members/42.png";
import pic042m from "../public/assets/images/members/42m.png";
import pic043 from "../public/assets/images/members/43.png";
import pic043m from "../public/assets/images/members/43m.png";
import pic044 from "../public/assets/images/members/44.png";
import pic044m from "../public/assets/images/members/44m.png";
import pic045 from "../public/assets/images/members/45.png";
import pic045m from "../public/assets/images/members/45m.png";
import pic046 from "../public/assets/images/members/46.png";
import pic046m from "../public/assets/images/members/46m.png";
import pic047 from "../public/assets/images/members/47.png";
import pic047m from "../public/assets/images/members/47m.png";
import pic048 from "../public/assets/images/members/48.png";
import pic048m from "../public/assets/images/members/48m.png";
import pic049 from "../public/assets/images/members/49.png";
import pic049m from "../public/assets/images/members/49m.png";
import pic050 from "../public/assets/images/members/50.png";
import pic050m from "../public/assets/images/members/50m.png";
import pic051 from "../public/assets/images/members/51.png";
import pic051m from "../public/assets/images/members/51m.png";
import pic052 from "../public/assets/images/members/52.png";
import pic052m from "../public/assets/images/members/52m.png";
import pic053 from "../public/assets/images/members/53.png";
import pic053m from "../public/assets/images/members/53m.png";
import pic054 from "../public/assets/images/members/54.png";
import pic054m from "../public/assets/images/members/54m.png";
import pic055 from "../public/assets/images/members/55.png";
import pic055m from "../public/assets/images/members/55m.png";
import pic056 from "../public/assets/images/members/56.png";
import pic056m from "../public/assets/images/members/56m.png";
import pic057 from "../public/assets/images/members/57.png";
import pic057m from "../public/assets/images/members/57m.png";
import pic058 from "../public/assets/images/members/58.png";
import pic058m from "../public/assets/images/members/58m.png";
import pic059 from "../public/assets/images/members/59.png";
import pic059m from "../public/assets/images/members/59m.png";
import pic060 from "../public/assets/images/members/60.png";
import pic060m from "../public/assets/images/members/60m.png";
import pic061 from "../public/assets/images/members/61.png";
import pic061m from "../public/assets/images/members/61m.png";
import pic062 from "../public/assets/images/members/62.png";
import pic062m from "../public/assets/images/members/62m.png";
import pic063 from "../public/assets/images/members/63.png";
import pic063m from "../public/assets/images/members/63m.png";
import pic064 from "../public/assets/images/members/64.png";
import pic064m from "../public/assets/images/members/64m.png";
import pic065 from "../public/assets/images/members/65.png";
import pic065m from "../public/assets/images/members/65m.png";
import pic066 from "../public/assets/images/members/66.png";
import pic066m from "../public/assets/images/members/66m.png";
import pic067 from "../public/assets/images/members/67.png";
import pic067m from "../public/assets/images/members/67m.png";
import pic068 from "../public/assets/images/members/68.png";
import pic068m from "../public/assets/images/members/68m.png";
import pic069 from "../public/assets/images/members/69.png";
import pic069m from "../public/assets/images/members/69m.png";
import pic070 from "../public/assets/images/members/70.png";
import pic070m from "../public/assets/images/members/70m.png";
import pic071 from "../public/assets/images/members/71.png";
import pic071m from "../public/assets/images/members/71m.png";
import pic072 from "../public/assets/images/members/72.png";
import pic072m from "../public/assets/images/members/72m.png";
import pic073 from "../public/assets/images/members/73.png";
import pic073m from "../public/assets/images/members/73m.png";
import pic074 from "../public/assets/images/members/74.png";
import pic074m from "../public/assets/images/members/74m.png";
import pic075 from "../public/assets/images/members/75.png";
import pic075m from "../public/assets/images/members/75m.png";
import pic076 from "../public/assets/images/members/76.png";
import pic076m from "../public/assets/images/members/76m.png";
import pic077 from "../public/assets/images/members/77.png";
import pic077m from "../public/assets/images/members/77m.png";
import pic078 from "../public/assets/images/members/78.png";
import pic078m from "../public/assets/images/members/78m.png";


import explain1 from "../public/assets/images/explains/explain1.png";
import explain2 from "../public/assets/images/explains/explain2.png";
import explain3 from "../public/assets/images/explains/explain3.png";
import explain4 from "../public/assets/images/explains/explain4.png";

import explain2_en from "../public/assets/images/explains/explain2_en.png";
import explain3_en from "../public/assets/images/explains/explain3_en.png";
import explain4_en from "../public/assets/images/explains/explain4_en.png";

import arrow from "../public/assets/images/explains/arrow.png";

import styles from "./gallerys.module.css";
import Gallery from "./Gallery";
import axios from "axios";
import Title from "./Title";
import NextPageBtn from "../components/NextPageBtn";

const pics = [
  { big: pic000, small: pic000m },
  { big: pic001, small: pic001m },
  { big: pic002, small: pic002m },
  { big: pic003, small: pic003m },
  { big: pic004, small: pic004m },
  { big: pic005, small: pic005m },
  { big: pic006, small: pic006m },
  { big: pic007, small: pic007m },
  { big: pic008, small: pic008m },
  { big: pic009, small: pic009m },
  { big: pic010, small: pic010m },
  { big: pic011, small: pic011m },
  { big: pic012, small: pic012m },
  { big: pic013, small: pic013m },
  { big: pic014, small: pic014m },
  { big: pic015, small: pic015m },
  { big: pic016, small: pic016m },
  { big: pic017, small: pic017m },
  { big: pic018, small: pic018m },
  { big: pic019, small: pic019m },
  { big: pic020, small: pic020m },
  { big: pic021, small: pic021m },
  { big: pic022, small: pic022m },
  { big: pic023, small: pic023m },
  { big: pic024, small: pic024m },
  { big: pic025, small: pic025m },
  { big: pic026, small: pic026m },
  { big: pic027, small: pic027m },
  { big: pic028, small: pic028m },
  { big: pic029, small: pic029m },
  { big: pic030, small: pic030m },
  { big: pic031, small: pic031m },
  { big: pic032, small: pic032m },
  { big: pic033, small: pic033m },
  { big: pic034, small: pic034m },
  { big: pic035, small: pic035m },
  { big: pic036, small: pic036m },
  { big: pic037, small: pic037m },
  { big: pic038, small: pic038m },
  { big: pic039, small: pic039m },
  { big: pic040, small: pic040m },
  { big: pic041, small: pic041m },
  { big: pic042, small: pic042m },
  { big: pic043, small: pic043m },
  { big: pic044, small: pic044m },
  { big: pic045, small: pic045m },
  { big: pic046, small: pic046m },
  { big: pic047, small: pic047m },
  { big: pic048, small: pic048m },
  { big: pic049, small: pic049m },
  { big: pic050, small: pic050m },
  { big: pic051, small: pic051m },
  { big: pic052, small: pic052m },
  { big: pic053, small: pic053m },
  { big: pic054, small: pic054m },
  { big: pic055, small: pic055m },
  { big: pic056, small: pic056m },
  { big: pic057, small: pic057m },
  { big: pic058, small: pic058m },
  { big: pic059, small: pic059m },
  { big: pic060, small: pic060m },
  { big: pic061, small: pic061m },
  { big: pic062, small: pic062m },
  { big: pic063, small: pic063m },
  { big: pic064, small: pic064m },
  { big: pic065, small: pic065m },
  { big: pic066, small: pic066m },
  { big: pic067, small: pic067m },
  { big: pic068, small: pic068m },
  { big: pic069, small: pic069m },
  { big: pic070, small: pic070m },
  { big: pic071, small: pic071m },
  { big: pic072, small: pic072m },
  { big: pic073, small: pic073m },
  { big: pic074, small: pic074m },
  { big: pic075, small: pic075m },
  { big: pic076, small: pic076m },
  { big: pic077, small: pic077m },
  { big: pic078, small: pic078m },

];
const players = [
  "Zavok",
  "雜燴兔燉肉1234",
  "ArakitaHakana",
  "NUDA",
  "Bg2006",
  "Red Rain",
  "Cody Yuki",
  "eihyou2002",
  "Guro",
  "LeiRia",
  "Lulu",
  "Reggiano LL",
  "Scarlet star",
  "Nano Ka",
  "霧鈴桐喻",
  "Midnight ",
  "Midnight ",
  "ike",
  "火虎(COSMINI)",
  "Darkshadovv",
  "Syr ",
  "Bg2006",
  "deflo",
  "夕恆",
  " Lacba Mikan",
  "s.Claw",
  "Sanae&Koa",
  "吉衛福士、SekineDeer",
  "小助手（Ast Jiete）",
  "Bg2006",
  "火虎(COSMINI)",
  "Eraise",
  "Guro",
  "crazy4videogames",
  "crazy4videogames",
  "crazy4videogames",
  "Bg2006",
  "Kud",
  " Manuumi",
  "篠茶　斜海",
  "篠茶　斜海",
  "Zavok",
 
  "Bg2006 ",
  "Thisdudearound",
  "世子",
  "RabiDraw",
  "Yurily",
  "MajorMilk",
  "風船貓",
  "Losno",
  "Losno",
  "buneet",
  "小助手（Ast Jiete） ",
  "黑熊社长",
  "蒼月",
  "saltywetspirit 鹹濕精神",
  "Yumemochi",
  "cottoncreme",
  "Lee",
  "Merrnet",
  "Yarnim",
  "UPRPRC Arius",
  "うりなまこ",
  "南小鸡",
  "Limmion",
  "映はち",
  "プチ",
  "Snidic",
  "原紙人",
  "Cerule",
  "SoloQuintet",
  "namakobcg",
  "Yon Senpai",
  " BunnyK",
  "ぺっしぃ（pesshi）",
  "Trypanophobia",
  "Red Rain",
  "Kinship#2700",
  "Red Rain",
];

const NET_SERVER_URL = "https://rabiribi5thserver.herokuapp.com";
// const NET_SERVER_URL = "http://localhost:3001";
const max = 8;
function validateEmail(email) {
  var re = /\S+@\S+\.\S+/;
  return re.test(email);
}

function validateName(name) {
  return name.length < 10 && name.length > 0;
}


// overwrite style
const modalStyle = {
  overlay: {
    backgroundColor: "rgba(0, 0, 0,0.5)",
  },
};

const mainStyle = {
  app: {
    margin: "0",
  },
  submitButton: {
    backgroundColor: "#408cec",
    border: 0,
    padding: "5px 8px",
    color: "#fff",
    margin: "0 auto",
    width: 150,
    display: "inline",
    borderRadius: 3,
  },
  cancelButton: {
    backgroundColor: "red",
    border: 0,
    padding: "5px 10px",
    color: "#fff",
    margin: "0 auto",
    width: 150,
    display: "block",
    borderRadius: 3,
  },
};

const perPage = 10;

class ModalUnit extends Component {
  constructor(props) {
    super(props);

    // set initial state
    this.state = {
      isBoardModalOpen: false,
      isBoardInnerModalOpen: false,
      isVoteModalOpen: false,
      isInnerVoteModalOpen: false,
      email: "",
      validEmail: false,
      name: "",
      code: "",
      votes: [],
      emailError: false,
      nameError: false,
      codeEmailError: false,
      voteError: false,
      loading: false,
      errorDisplay: false,
      codeSucceed: false,
      succeed: false,
      page: 1,
    };

    // bind functions
    this.closeBoardModal = this.closeBoardModal.bind(this);
    this.openBoardModal = this.openBoardModal.bind(this);
  }

  // close modal (set isModalOpen, true)
  closeBoardModal() {
    this.setState({
      isBoardModalOpen: false,
    });
  }

  clearMessages = (e) => {
    e.preventDefault()
    this.setState({ emailError: false, nameError: false,  codeEmailError: false, voteError: false, codeSucceed: false, succced: false, errorDisplay: false });
  };

  // open modal (set isModalOpen, false)
  openBoardModal() {
    this.setState({
      isBoardModalOpen: true,
    });
  }
  keyListener = (e) => {
    if (e.keyCode === 27) {
      this.closeBoardModal();
    }
  };

  componentDidMount() {
    document.body.addEventListener("keydown", this.keyListener);
  }

  componentWillUnmount() {
    document.body.removeEventListener("keydown", this.closeBoardModal);
  }
  submitCode = (e) => {
    e.preventDefault();
    this.setState({ errorDisplay: true });
    this.setState({ loading: true });


    if (validateEmail(this.state.email)) {
      console.log("send");
      axios({
        method: "post",
        url: NET_SERVER_URL + "/code",
        data: {
          email: this.state.email,
        },
      }).then((response) => {
        console.log(response);
        if (response.status === 201) {
          console.log("succeed");
          this.setState({ loading: false });
          this.setState({ codeSucceed: true });
        } else if (response.status === 204) {
          this.setState({ loading: false });
          this.setState({ emailError: true });
        }
        this.setState({ errorDisplay: true });
      });
    } else {
      this.setState({ emailError: true });
      this.setState({ errorDisplay: true });
    }
  };

  submitVote = (e) => {
    e.preventDefault();
    this.setState({ errorDisplay: true });
    this.setState({ loading: true });
    if (validateEmail(this.state.email) && validateName(this.state.name) &&  this.state.votes.length > 0) {
      axios({
        method: "post",
        url: NET_SERVER_URL + "/vote",
        data: {
          email: this.state.email,
          name: this.state.name,
          code: this.state.code,
          votes: this.state.votes,
        },
      }).then((response) => {
        this.setState({ loading: false });
        if (response.status === 201) {
          this.setState({ errorDisplay: true });
          this.setState({ succeed: true });
          window.location = "/art-contest";
          const data = response.data;
          console.log(data);
        } else if (response.status === 204) {
          this.setState({ emailError: false, nameError: false, voteError: false });
          this.setState({ codeEmailError: true });
          this.setState({ errorDisplay: true });
        }
      });
    } else {
      this.setState({ loading: false });
      if (!validateEmail(this.state.email)) {
        this.setState({ emailError: true });
      }
      if (!validateName(this.state.name)) {
        this.setState({ nameError: true });
      }
      if (this.state.votes.length > 5 || this.state.votes.length <= 0) {
        this.setState({ voteError: true });
      }
      this.setState({ errorDisplay: true });
    }
  };
  addPage = () => {
    let newPage = this.state.page;
    newPage++;
    this.setState({ page: newPage });
  };
  minusPage = () => {
    let newPage = this.state.page;
    newPage--;
    this.setState({ page: newPage });
  };

  emailInputHandler = (e) => {
    this.setState({ email: e.target.value });
  };
  nameInputHandler = (e) => {
    this.setState({ name: e.target.value });
  };
  codeInputHandler = (e) => {
    this.setState({ code: e.target.value });
  };
  clearVotes = () => {
    this.setState({ votes: [] });
  };

  clickHandler = (i) => {
    let newVotes = this.state.votes;
    if (!newVotes.includes(i)) {
      newVotes.push(i);
      this.setState({ votes: newVotes });
    } else if (newVotes.includes(i)) {
      let updatedVotes = newVotes.filter((item) => {
        return item !== i;
      });
      this.setState({ votes: updatedVotes });
    }
  };

  // render app
  render() {
    let message;
    if (this.state.votes.length === 0) {
      message = <FormattedMessage id="app.p2-p6-7" />;
    } else if (this.state.votes.length < 5 && this.state.votes.length > 0) {
      // message = `${<FormattedMessage id="app.p2-p6-7"/>} ${5 - this.state.votes.length} ${<FormattedMessage id="app.p2-p6-7"/>}`
    } else if (this.state.votes.length > 5) {
      message = `你多選了${this.state.votes.length - 5}個喔！！！`;
    } else if (this.state.votes.length === 5) {
      message = `很好 你投完了！ 把下方的表格填完就可以送出了！`;
    }
    return (
      <div className={styles.outerWrapper}>
        <div className="wrapper oneblock">
          <div className={styles.frameWrapper}>
            <div id="vote"></div>

            <div className={styles.upper}>
              <Title id="app.p2-p5-1" />
              <div className="subtitle">
                <p className={styles.white}>
                  <FormattedMessage id="app.p2-p5-2" />
                </p>
                <p className={styles.white}>
                  <FormattedMessage id="app.p2-p5-3-1" />
                </p>
                <p className={styles.white}>
                  <FormattedMessage id="app.p2-p5-3-2" />
                </p>
              </div>
            </div>

            <div className={styles.explainWrapper}>
              <div className={styles.explainBox}>
                <img className={styles.circle} src={this.props.locale.includes("zh") ? explain1 : explain1} />
                <img className={styles.arrow} src={arrow} />
                <p>
                  <span className={styles.number}></span>
                  <FormattedMessage id="app.p2-p5-4" />
                </p>
              </div>
              <div className={styles.explainBox}>
                <img className={styles.circle} src={this.props.locale.includes("zh") ? explain2 : explain2_en} />
                <img className={styles.arrow} src={arrow} />
                <p>
                  <span className={styles.number}></span>
                  <FormattedMessage id="app.p2-p5-5" />
                </p>
              </div>
              <div className={styles.explainBox}>
                <img className={styles.circle} src={this.props.locale.includes("zh") ? explain3 : explain3_en} />
                <img className={styles.arrow} src={arrow} />
                <p>
                  <span className={styles.number}></span>
                  <FormattedMessage id="app.p2-p5-6" />
                </p>
              </div>
              <div className={styles.explainBox}>
                <img className={styles.circle} src={this.props.locale.includes("zh") ? explain4 : explain4_en} />
                <img className={styles.arrow} src={arrow} />
                <p>
                  <span className={styles.number}></span>
                  <FormattedMessage id="app.p2-p5-7" />
                </p>
              </div>
            </div>
          </div>

          <div className={styles.voteBg}>
            <div className={styles.txtBoxWrapper}>
              <Title id="app.p2-p6-1" />
              <div className={`${styles.desktop} ${styles.announce}`}>
                <h2>
                  <FormattedMessage id="app.p2-p6-2" />
                </h2>
              </div>

              <p>
                <FormattedMessage id="app.p2-p6-6" />
              </p>
            </div>

            <div className={styles.boardFrame}>
              <div id="voteArea" className={styles.board}>
                <button disabled={this.state.page >= max ? true : false} className={`${styles.button} ${styles.changePageR}`} onClick={this.addPage}>
                  <i className="fas fa-angle-double-right"></i>
                </button>

                <div onClick={this.clearVotes} className={`${styles.buttonL} ${styles.undo}`}>
                  <i className="fas fa-undo"></i>
                </div>

                {pics.map((el, index) => {
                  if (index < this.state.page * perPage && index >= (this.state.page - 1) * perPage)
                    return (
                      <Gallery selected={this.state.votes.includes(index)} key={index} src={el.small} isModalOpen={this.state.isBoardModalOpen} style={modalStyle}>
                        <div className={styles.closeButton}>
                          <button
                            style={{
                              ...mainStyle.cancelButton,
                              marginRight: 0,
                              width: "auto",
                            }}
                            onClick={this.closeBoardModal}
                            className={styles.closeButton}
                          >
                            X
                          </button>
                        </div>
                        <div className={styles.fullImage}>
                          <div className={styles.txtWrapper}>
                            <p>
                              <FormattedMessage id="app.p2-p10-3" />：{index + 1}
                            </p>
                            <p>
                              <FormattedMessage id="app.p2-p10-4" />：{players[index]}
                            </p>
                          </div>
                          <div className={styles.fullImageWrapper}>
                            <img alt={index} src={el.big} />
                          </div>
                          <button className={`${styles.buttonL} ${styles.innerVoteButton}`} onClick={() => this.clickHandler(index)}>
                            {this.state.votes.includes(index) ? <FormattedMessage id="app.p2-p10-1" /> : <FormattedMessage id="app.p2-p10-2" />}
                          </button>
                        </div>
                      </Gallery>
                    );
                  return true;
                })}
                <button disabled={this.state.page <= 1 ? true : false} className={`${styles.button} ${styles.changePageL}`} onClick={this.minusPage}>
                  <i className="fas fa-angle-double-right"></i>
                </button>
          
                <div className={styles.page}>
                  <p>{`${this.state.page}/${max}`}</p>
                </div>
                <div className={styles.message}>
                  <div className={this.state.votes.length > 5 ? `${styles.display}` : `${styles.hidden}`}>
                    <p id="voteStatusFail" className={this.state.votes.length > 5 || this.state.votes.length === 0 ? `${styles.warning}` : `${styles.success}`}>
                      <FormattedMessage id="app.p2-p6-8" />
                      {Math.abs(this.state.votes.length - 5)}
                      <FormattedMessage id="app.p2-p6-9" />
                    </p>
                  </div>
                  <div className={this.state.votes.length <= 5 ? `${styles.display}` : `${styles.hidden}`}>
                    <p id="voteStatus" className={this.state.votes.length > 5 || this.state.votes.length === 0 ? `${styles.warning}` : `${styles.success}`}>
                      <FormattedMessage id="app.p2-p6-10" />
                      {Math.abs(this.state.votes.length - 5)}
                      <FormattedMessage id="app.p2-p6-11" />
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div className={styles.formBg}>
            <form id="infoWrapper" className={styles.formWrapper}>
              <label htmlFor="exampleFormControlInput1">
                Email<span className={styles.warning}>*</span>
              </label>
              <div className="form-group ">
                <input required value={this.state.email} onChange={this.emailInputHandler} type="email" className="form-control col" id="email" placeholder="" />
                <button id="submitCode" className={` ${styles.blackButton}`} onClick={this.submitCode}>
                  <FormattedMessage id="app.p2-p6-12" />
                </button>
              </div>

              <div className="form-group">
                <label htmlFor="exampleFormControlInput2">
                  <FormattedMessage id="app.p2-p6-13" />
                  <span className={styles.warning}>*</span>
                </label>
                <input id="name" required value={this.state.name} onChange={this.nameInputHandler} type="text" className="form-control" id="exampleFormControlInput2" placeholder="" />
              </div>

              <div className="form-group">
                <label htmlFor="exampleFormControlInput4">
                  <FormattedMessage id="app.p2-p6-15" />
                  <span className={styles.warning}>*</span>
                </label>
                <input id="code" required value={this.state.code} onChange={this.codeInputHandler} type="text" className="form-control" id="exampleFormControlInput4" placeholder="" />
              </div>

              <div className="form-group">
                <label htmlFor="exampleFormControlInput4">
                  <FormattedMessage id="app.p2-p6-16" />
                </label>
              </div>

              <div className={styles.center}>
                <button id="submitVote" onClick={this.submitVote} className={`${styles.buttonL} ${styles.verifyCodeButton}`}>
                  <FormattedMessage id="app.p2-p6-17" />
                </button>
              </div>

              <div id="infoStatus" className={this.state.errorDisplay ? `${styles.errorMessages}` : `${styles.errorMessages} ${styles.hidden}`}>
                <p className={this.state.emailError ? `${styles.emailWarning}` : `${styles.emailWarning} ${styles.hidden}`}>
                  <FormattedMessage id="app.p2-w-1" />
                </p>
                <p className={this.state.nameError ? `${styles.emailWarning}` : `${styles.emailWarning} ${styles.hidden}`}>
                  <FormattedMessage id="app.p2-w-2" />
                </p>
                <p className={this.state.codeEmailError ? `${styles.emailWarning}` : `${styles.emailWarning} ${styles.hidden}`}>
                  <FormattedMessage id="app.p2-w-4" />
                </p>
                <p className={this.state.voteError ? `${styles.emailWarning}` : `${styles.emailWarning} ${styles.hidden}`}>
                  <FormattedMessage id="app.p2-w-5" />
                </p>
                <p className={this.state.loading ? `${styles.emailWarning}` : `${styles.emailWarning} ${styles.hidden}`}>
                  <FormattedMessage id="app.p2-w-6" />
                </p>
                <p className={this.state.succeed ? `${styles.success}` : `${styles.success} ${styles.hidden}`}>
                  <FormattedMessage id="app.p2-w-7" />
                </p>
                <p className={this.state.codeSucceed ? `${styles.success}` : `${styles.success} ${styles.hidden}`}>
                  <FormattedMessage id="app.p2-w-8" />
                </p>

                <button id="infoCloseButton" className={`${styles.buttonL} ${styles.verifyCodeButton}`} onClick={this.clearMessages}>
                  <FormattedMessage id="app.p2-w-13" />
                </button>
              </div>
            </form>
            <div className={styles.buttonWrapper}>
              <NextPageBtn href="/go-bunny-go">
                <FormattedMessage id="app.p2-p8-2" />
                <i className="fas fa-caret-right"></i>
              </NextPageBtn>
            </div>
          </div>
        </div>
      </div>
    );
  }
}

export default ModalUnit;
